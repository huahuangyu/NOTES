# 计算机网络

## 第1章 概述

1. 互联网有两个重要基本特点：**连通性**和**共享**。互联网（Internet）、互连网（internet）

2. **互联网**已经成为世界上最大的计算机网络。

3. 计算机网络（简称为网络）由若干**结点**（node）和连接这些结点的**链路**（link）组成。

4. Internet的前身是美国的ARPANET，采用**TCP/IP协议族**作为通信规则。

5. 在网络边缘的端系统之间的通信方式通常可以划分为两大类：**客户-服务器方式（C/S方式）**和**对等方式**（P2P方式，peer-to-peer）。客户-服务器方式在互联网上是最常用，也是传统的方式。

6. 在网络**核心**部分起特殊作用的是**路由器**，是实现**分组交换**的关键构件。路由器的作用是按**存储转发**方式进行分组交换。

7. 电路交换、报文交换、分组交换的对比：

   ![在这里插入图片描述](picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAwMTUyMQ==,size_16,color_FFFFFF,t_70.png)

   电路交换是**面向连接**的。分组交换采用**存储转发**的技术。在发送端，先把较长的报文**划分成较短的、固定长度的数据段**。每一个数据段前面添加上**首部**构成**分组**（packet）。每个分组在互联网中**独立地选择传输路径**。

9. 计算机网络按照网络的作用范围分类：

   （1）**广域网WAN（Wide Area Network）**。**广域网**是互联网的核心部分。作用范围约为几十到几千公里。

   （2）**城域网MAN（Metropolitan Area Network）**。作用范围约为5-50公里。
   
   （3）**局域网LAN（Local Area Network）**。局限在较小的范围（如1公里左右）。
   
   （4）**个人区域网PAN（Personal Area Network）**。范围很小，大约在10米左右。

10. 计算机网络按照网络的使用者可以分为公用网（public network）和专用网（private network）。

10. 计算机网络的性能指标：速率、带宽、吞吐量、时延、时延带宽积、往返时间RTT、利用率。

  速率是计算机网络中最重要的一个性能指标，指的是数据的传送速率。速率的单位是bit/s，或kbit/s。1 kbit/s = 1000 bits/s。

  吞吐量受网络的带宽或网络的额定速率的限制。吞吐量是到底有多少数据量能够通过网络。

  时延带宽积 = 传播时延 x 带宽。

  利用率分为信道利用率和网络利用率。

11. k = 1000，K = 1024

12. 时延包括**发送时延、传播时延、处理时延、排队时延**。发送时延是主机或路由器发送数据帧所需要的时间。传播时延是电磁波在信道中传播一定的距离需要花费的时间。

13. 信道利用率过高会产生非常大的时延。

14. 国际标准化组织**ISO**于1977年提出开放系统互连基本参考模型**OSI/RM（Open Systems Interconnection Reference Model）**，简称**OSI**。

15. 为进行网络中的数据交换而建立的规则、标准或约定称为**网络协议**。网络协议主要有以下三个要素组成：**语法**、**语义**、**同步**。协议是**控制两个对等实体（或多个实体）进行通信的规则的集合**。在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。**要实现本层协议，还需要使用下一层所提供的服务**。协议是“**水平的**”，服务是“**垂直的**”。

    各层完成的主要功能：①差错控制；②流量控制；③分段和重装；④复用和分用；⑤连接建立和释放。

16. 计算机网络体系结构

    <img src="https://img-blog.csdn.net/20180508083811597?watermark/2/text/Ly9ibG9nLmNzZG4ubmV0L2I5eF9f/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" style="zoom: 33%;" />

17. 传输控制协议 TCP（Transmission Control Protocol）- 提供面向连接的、可靠的数据传输服务，其数据传输的单位是报文段（segment）。

    用户数据报协议 UDP（User Datagram Protocol）- 提供无连接的、尽最大努力的数据传输服务（不保证数据阐述的可靠性），其数据传输的单位是用户数据报。

18. OSI参考模型把**对等层次**之间传送的数据单位称为该层的协议数据单元 PDU（Protocol Data Unit）。把**层与层**之间交换的数据的单位称为服务数据单元 SDU（Service Data Unit）。

19. TCP/IP四层结构：应用层(各种应用层协议如FTP, DNS等)、运输层(TCP或UDP)、网际层(又名网络互联层 IP)、数据链路层(又名网络接口层)

<img src="https://img-blog.csdn.net/20180508085920977?watermark/2/text/Ly9ibG9nLmNzZG4ubmV0L2I5eF9f/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img" style="zoom:50%;" />

20. 互联网现在采用**存储转发**的分组交换技术，以及三层ISP结构，主干ISP、地区ISP和本地ISP。

21. 五层协议的体系结构由应用层、运输层、网络层（或网际层）、数据链路层和物理层组成。**运输层最重要的协议是TCP和UDP协议，网络层最重要的协议是IP协议**。



## 第2章 物理层

1. 数据在计算机内部多采用并行传输方式，在通信线路上的传输方式一般都是**串行传输**。

2. 一个数据通信系统可以划分为三大部分，即**源系统（或发送端、发送方）**、**传输系统（或传输网络）**和**目的系统（或接收端、接收方）**。

3. 源系统一般包括源点（source）、发送器。目的系统一般包括接收器、终点。

4. 从通信的双方**信息交互**的方式来看，有以下三种基本方式：

   1. **单向通信（单工通信）**。即只能有一个方向的通信而没有反方向的交互。无线电广播以及电视广播属于这种类型。
   2. **双向交替通信（半双工通信）**。通信的双方都可以发送信息，但不能双方同时发送，也不能同时接收。
   3. **双向同时通信（全双工通信）**。通信的双方可以同时发送和接收信息。

   单工通信只需要一条信道，半双工通信或全双工通信需要两条信道。

5. 来自信源的信号叫做**基带信号**。调制分为两大类：**基带调制**，仅对基带信号的波形进行变换，变换后的信号仍然是基带信号，把这种过程称为**编码**；**带通调制**，使用载波进行调制，把基带信号的频率范围搬移到较高的频段，并**转换为模拟信号**。经过载波调制后的信号称为**带通信号**。

6. 常用的编码方式：**不归零制**、**归零制**、**曼彻斯特编码**、**差分曼彻斯特编码**。曼彻斯特编码产生的信号频率比不归零制高，具有自同步能力。

   <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210822152009690.png" alt="image-20210822152009690" style="zoom:50%;" />

   不归零制：

   归零制：

   曼彻斯特编码：

   差分曼彻斯特编码：

7. 基本的带通调制方法：**调幅（AM)**、**调频（FM）**、**调相（PM)**。还有更复杂的调制方法，如**正交振幅调制**。

8. 限制码元在信道上的传输速率的因素：（1）**信道能够通过的频率范围**；（2）**信噪比**（信号的平均功率和噪声的平均功率之比，记为S/N，用分贝（dB）作为度量单位）。信道的带宽或信道中的信噪比越大，信息的极限传输速率就越高。

9. 带宽受限且有高斯白噪声干扰的信道的极限、无差错的信息传输速率（香农公式）：

   信道的极限信息传输速率C可表达为：
   $$
   C=Wlog_2(1+S/N) (bit/s)
   $$
   其中，W为信道的带宽（以Hz为单位）；S为信道内所传信号的平均功率；N为信道内部的高斯噪声功率。

10. 传输媒体也称为传输介质或传输媒介，是数据传输系统中在发送器和接收器之间的物理通道。分为**导引型传输媒体**（双绞线 、同轴电缆、光缆、架空明线）和**非导引型传输媒体**（无线或红外或大气激光）。在光纤通信中常用的三个波段的中心分别位于850 nm，1300 nm和1550 nm。后两种情况的衰减都很小，850 nm波段的衰减较大，但在此波段的其他特性均较好。

11. **双绞线**，最常用的传输媒体，可以进行数字传输和模拟传输。可以分为：屏蔽双绞线 STP（Shieleded Twisted Pair）（带金属屏蔽层）、无屏蔽双绞线 UTP。对传送数据来说，现在最常用的 UTP 是**5**类线（Category 5 或 CAT5）。

12. 同轴电缆具有较好的抗干扰特性，被广泛用于传输较高速率的数据。50Ω同轴电缆——LAN/数字传输常用；75Ω同轴电缆——有线电视/模拟传输常用。

13. **光纤**是光纤通信的传输媒体。多模光纤（传输距离较近）、单模光纤。

14. 常见的信道复用技术：

    **频分复用 FDM**（Frequency Division Multiplexing），频分复用的所有用户在同样的时间占用不同的带宽资源。

    **时分复用 TDM**（Time Division Multiplexing），时分复用的所有用户在不同时间占用了同样的频带宽度。**统计时分复用 STDM**（Statistic TDM），统计复用又称为异步时分复用，按需动态的分配时隙。

    **波分复用 WDM**（Wavelength Division Multiplexing），就是光的频分复用。

    **码分复用 CDM**（Code Division Multiplexing），码分多址 CDMA。

15. 通信的目的是**传送信息**。**数据**是运送消息的实体。

16. 最初在数字传输系统中使用的传输标准是脉冲编码调制 PCM。现在高速的数字传输系统使用同步光纤网 SONET（美国标准）或同步数字系列SDH（国际标准）。

17. 用户到互联网的宽带接入方法有非对称数字用户线 ADSL、光纤同轴混合网 HFC 和 FTTx。

18. 为了有效地利用光纤资源，在光纤干线和用户之间广泛使用无源光网络 PON，最流行的无源光网络是以太网无源光网络 EPON和吉比特无源光网络 GPON。

19. 物理层的作用是要尽可能地屏蔽掉不同传输媒体和通信手段的差异。确定机械特性、电气特性、功能特性、过程特性。


## 第3章 数据链路层

1. 数据链路层使用的信道主要有以下两种类型：（1）**点对点信道**；（2）**广播信道**。

2. 从整个互联网来看，局域网属于数据链路层的范围。

3. **链路（link）**是从一个结点到相邻结点的一段物理线路（有线或无线），而中间没有任何其他的交换结点。**数据链路（data link）**把实现协议的硬件和软件加到链路上，就构成数据链路。**帧**，点对点信道的数据链路层的协议数据单元。数据链路层的三个基本问题：封装成帧、透明传输和差错检测。

4. 在互联网中，网络层协议数据单元就是IP数据报（或简称为**数据报**、**分组**或**包**）。

5. **封装成帧（framing）**就是在一段数据的前后添加首部和尾部，这样就构成了一个帧。首部和尾部的一个重要作用就是进行帧界定，此外还包括许多必要的控制信息。在发送帧时，是从帧首部开始发送的。**MTU**（Maximum Transfer Unit）：**数据部分**长度上限——最大传送单元。

   <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210824171132318.png" alt="image-20210824171132318" style="zoom:50%;" />

6. 控制字符 SOH（Start of Header）放在一帧的最前面，表示帧的首部开始，另一个控制字符 EOT（End of Transmission）表示帧的结束，它们的十六进制编码分别是01（二进制是00000001）和04（二进制是00000100）。

   <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210824171406074.png" alt="image-20210824171406074" style="zoom:50%;" />

7. **透明传输**：不管从键盘上输入什么字符都可以放在这样的帧中传输过去，这样的传输是透明传输。为了解决透明传输的问题，就必须设法使数据中可能出现的控制字符“SOH”和"EOT"在接收端不被解释为控制字符。具体方法是：发送端的数据链路层在数据中出现控制字符“SOH”和“EOF”的前面插入一个转义字符“ESC"（十六进制是1B，二进制是00011011）。在接收端的数据链路层在把数据送往网络层之前删除这个插入的转义字符。这种方法称为**字节填充**或**字符填充**。

   <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210824201209033.png" alt="image-20210824201209033" style="zoom:50%;" />

8. **比特差错**：比特在传输过程中可能产生的差错：1可能会变成0，0可能变成1。**误码率BER**：在一段时间内，传输错误的比特占所传输比特总数的比率。设法提高信噪比，可以使误码率降减小。目前在数据链路层广泛使用了**循环冗余检测CRC**（Cyclic Redundancy Check）的检错技术。帧检验序列FCS是添加在数据后面的冗余码。**传输差错**：帧丢失、帧重复和帧失序。

9. 对于点对点的链路，**点对点协议PPP**（Point-to-Point Protocol）是目前使用得**最广泛**的数据链路层协议。

10. **PPP协议**是用户计算机和ISP进行通信时所使用的数据链路层协议。在TCP/IP协议族中，可靠传输由运输层的TCP协议负责，因此数据链路层的PPP协议不需要进行纠错，不需要设置序号；不需要进行流量控制。PPP协议不支持多点线路，只支持**点对点**的链路通信，PPP协议只支持**全双工链路**。PPPoE是为宽带上网的主机使用的链路层协议。

11. PPP协议设计满足的需求：（1）简单；（2）封装成帧；（3）透明性；（4）多种网络层协议；（5）多种类型链路；（6）差错检测；（7）检测连接状态；（8）最大传送单元；（9）网络层地址协商；（10）数据压缩协商。

12. PPP协议组成：（1）一个将IP数据报封装到串行链路的方法。（2）一个用来建立、配置和测试数据链路连接的**链路控制协议LCP** (Link Control Protocol)。（3）一套**网络控制协议NCP**（Network Control Protocol），其中的每一个协议支持不同的网络层协议。

13. PPP帧的首部和尾部分别为四个字段和两个字段。

    首部的第一个字段和尾部的第二个字段都是标志字段F，规定为0x7E（二进制01111110），是PPP帧的定界符。连续两帧之间只需要用一个标志字段。首部中的地址字段A规定为0xFF（即11111111），控制字段C规定为0x03（即00000011），这两个字段实际上并没有携带PPP帧信息。首部的第四个字段是2字节的协议字段。当协议字段为0x0021时，PPP帧的信息字段就是IP数据报，若为0xC021，则信息字段是PPP链路控制协议LCP的数据，0x8021表示这是网络层的控制数据。信息字段长度不超过1500字节。尾部中的第一个字段（2字节）是使用CRC的帧检验序列FCS。

    <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210824215058455.png" alt="image-20210824215058455" style="zoom:50%;" />

14. 当PPP使用**异步传输**时，把转义符定义为**0x7D（即01111101）**，并使用字节填充。PPP协议用在SONET/SDH链路时，使用**同步传输**，采用**零比特填充**方法实现透明传输（发送端，发现5个连续的1，立即填入一个0，接收端再把这5个连续1后的一个0删掉）。

15. PPP链路的起始和终止状态是“**链路静止**”（Link Dead）状态，这时在用户个人电脑和ISP的路由器之间并不存在物理层的连接。

    <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210824221128957.png" alt="image-20210824221128957" style="zoom:33%;" />

16. 局域网最主要特点：网络为一个单位所拥有，且地理范围和站点数目均有限。

17. 局域网具有以下优点：（1）具有广播功能，从一个站点可很方便的访问全网。（2）便于系统的扩展和逐渐演变，各设备的位置可灵活调整和改变。（3）提高了系统的可靠性、可用性和生存性。

18. 局域网可按网络拓扑进行分类：**星形网**、**环形网**、**总线网**。总线网以**传统以太网**最为著名。**双绞线**已成为局域网中的主流传输媒体。当数据率很高时，往往需要使用**光纤**作为传输媒体。

    <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210824223412551.png" alt="image-20210824223412551" style="zoom:33%;" />

19. 共享信道在技术上有两种方法：(1)**静态划分信道**；（2）**动态媒体接入控制**，又称为多点接入，可分为**随机接入**、**受控接入**。

20. 以太网是美国施乐公司的Palo Alto研究中心（PARC）于1975年研制成功的。DIX Ethernet V2是世界上第一个局域网产品的规约。IEEE 802委员会于1983年制定了第一个IEEE的以太网标准IEEE 802.3。

21. 适配器和局域网之间的通信是通过电缆或双绞线以**串行**传输方式进行的，而适配器和计算机之间的通信是通过计算机主板上的I/O总线以**并行**传输方式进行的。计算机的硬件地址在适配器的ROM中，计算机的软件地址——IP地址在计算机的存储器中。

    <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210824224429906.png" alt="image-20210824224429906" style="zoom:33%;" />

22. 为了通信的简便，以太网采取以下两种措施：（1）采用较为灵活的**无连接**的工作方式，即不必先建立连接就可以直接发送数据。**以太网提供的服务是尽最大努力的交付**，即**不可靠的交付**。**在同一时间只能允许一台计算机发送数据**，使用的协议是**CSMA/CD**，即**载波监听多点接入/碰撞检测**。使用CSMA/CD协议的以太网只能进行**双向交替通信（半双工通信）**。（2）以太网发送的数据都使用**曼彻斯特编码**的信号。

23. 电磁波在1km电缆的传播时延约为5 μs。帧间最小间隔为9.6μs，相当于96比特时间。

24. 10BASE-T：“10”表示10 Mbit/s的数据率，BASE表示连接线上的信号是基带信号，T代表双绞线。10BASE-F：F代表光纤。

25. 传统的总线以太网基本上都是使用集线器的双绞线以太网，这种以太网在物理上是星形网，在逻辑上是总线形网。集线器工作在**物理层**，不进行碰撞检测，接口通过RJ-45插头。

26. 在局域网中，**硬件地址**又称为**物理地址**或者**MAC地址**。IEEE的**注册管理机构RA**是局域网全球地址的法定管理机构，负责分配地址字段的6个字节的前三个字节，这个号是**组织唯一标识符OUI**，通常也称为**公司标识符**，地址字段的后三个字节由厂家自行指派，称为**扩展标识符**。用这种方式得到的**48位**地址称为EUI-48。

27. 以太网V2的MAC帧格式：

    <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/XSWL0ZR_9_CZ%60PO%7D%5B11X43V.png" alt="img" style="zoom:33%;" />

28. 以太网的适配器具有过滤功能，只接收**单播帧**、**广播帧**或**多播帧**。

29. 使用集线器可以在**物理层**扩展以太网。

30. 扩展以太网更常用的方法是在**数据链路层**进行。最初使用的是**网桥**，后来使用的是**以太网交换机**。以太网交换机本质就是一个**多接口的网桥**，相互通信的主机都是**独占传输媒体，无碰撞地传输数据**。其内部的**交换表**是通过**自学习**算法自动逐渐建立起来的。

31. 10吉比特以太网（10GE）只工作在**全双工方式**，不存在争用问题，不适用CSMA/CD协议。

## 第4章 网络层

1. **网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报（datagram）服务**。网络在发送分组时不需要先建立连接。**网络层不提供服务质量的承诺**。由网络的主机中的**运输层**负责。

2. 虚电路服务与数据报服务的对比：

   <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210825145640110.png" alt="image-20210825145640110" style="zoom:33%;" />

3. 网际协议IP又称为Kahn-Cerf协议，是TCP/IP体系中两个最主要的协议之一。与IP协议配套使用的还有三个协议：（1）**地址解析协议ARP**（Address Resolution Protocol）；（2）**网际控制报文协议ICMP**（Internet Control Message Protocol）；（3）**网际组管理协议IGMP**（Internet Group Management Protocol）。

   <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210825150146806.png" alt="image-20210825150146806" style="zoom:33%;" />

4. 将网络互相连接起来要使用的一些**中间设备**：

   - 物理层使用的中间设备叫做**转发器**（repeater）。
   - 数据链路层使用的中间设备叫做**网桥**或**桥接器**（bridge）。
   - 网络层使用的中间设备叫做**路由器**（router）。
   - 在网络层以上使用的中间设备叫做**网关**（gateway）。用网关连接两个不兼容的系统需要在高层进行协议的转换。

5. **虚拟互联网络（internet）**就是逻辑互联网络，意思是互连起来的各种物理网络的异构性本来是客观存在的，但是利用IP协议就可以使这些性能各异的网络**在网络层上看起来好像是一个统一的网络**。这种使用IP协议的虚拟互联网络可简称为**IP网**。

6. **互联网可以由多种异构网络互连组成**。整个的互联网是一个**单一的、抽象的网络**。IP地址是一个**32位**的标识符。IP地址是32位的**二进制**代码，为了书写方便，可用等效的十进制数字表示，并在这些数字之间加上一个点，叫做**点分十进制记法**。IP地址现在由**互联网名字和数字分配机构ICANN**进行分配。

7. IP地址的编址方法经过了三个历史阶段：（1）分类的IP地址；（2）子网的划分；（3）构成超网。

8. **分类的IP地址**就是将IP地址划分为若干个固定类，每一类地址都由另个固定长度的字段组成，其中第一个字段是**网络号**（net-id），它标志主机（或路由器）所连接到的网络。第二个字段是**主机号**（host-id），它标志该主机（或路由器）。一个IP地址**在整个互联网范围内是唯一的**。这种两级的IP地址可以记为：

   <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210825162411342.png" alt="image-20210825162411342" style="zoom:33%;" />

   <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210825162431364.png" alt="image-20210825162431364" style="zoom:33%;" />

   其中A,B,C类地址都是**单播地址**（一对一通信），是最常用的。A类、B类和C类地址的网络号字段的最前面有1-3位的**类别位**，其数值分别规定为0,10和110。A类、B类和C类地址的主机号段分别为3个、2个和1个字节长D类地址用于**多播**（一对多通信）。

9. A类地址中，IP地址中的全0为“本网络”，网络号为127保留为**环回测试**本主机的进程之间的通信之用（如127.0.0.1）。A类网络的最大主机数是2^(24)-2，减2的原因是：全0的主机号段表示该IP地址是“本主机”所连接到的**单个网络地址**（如，一主机的IP地址为5.6.7.8，则该主机所在的网络地址就是5.0.0.0），全1的主机号段表示该网络上的所有主机。A类地址占了整个IP地址的50%。B类地址占整个IP地址的25%。IP地址的指派范围：

   <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210825165444981.png" alt="image-20210825165444981" style="zoom:33%;" />

10. IP地址是一种分等级的地址结构，实际上IP地址是标志一台主机（或路由器）和一条链路的**接口**。一个网络是指具有相同网络号net-id的主机的集合，**用转发器或网桥连接起来的若干个局域网仍为一个网络**。在IP地址中，所有分配到的网络号的网络都是**平等**的。

11. **物理地址是数据链路层和物理层使用的地址，IP地址是网络层和以上各层使用的地址，是一种逻辑地址**（称IP地址为逻辑地址是因为IP地址是用软件实现的）。IP地址是放在IP数据报的首部，而硬件地址放在MAC帧的首部。**在网络层及以上使用IP地址，在数据链路层及以下使用的是硬件地址**。在IP层抽象的互联网上只能看到IP数据报，路由器只根据目的站的IP地址的网络号进行路由选择。在局域网的链路层，只能看见MAC帧。

    <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210825171254631.png" alt="image-20210825171254631" style="zoom:33%;" />

12. **地址解析协议ARP**用于从网络层使用的IP地址，解析出在数据链路层使用的硬件地址。ARP是解决**同一个局域网上**的主机或路由器的IP地址和硬件地址的映射问题。

13. 一个IP数据报由首部和数据两部分组。首部前一部分是**固定长度**，共20字节，是所以IP数据报所必须的。IP数据报的完整格式：

    <img src="picture/1.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210825204133097.png" alt="image-20210825204133097" style="zoom:33%;" />

    （1）版本：占4位，指IP协议的版本。

    （2）首部地址：占4位，可表示的最大十进制数值是15。首部长度字段表示数的单位是32位字（1个32位字长是4字节）。因为IP首部的固定长度是20字节，所以首部长度字段的最小值是5（二进制0101）。**IP数据报的数据部分永远在4字节的整数倍时开始**。最常用的首部长度是20字节（即首部长度为0101）。

    （3）区分服务：占8位。一般不用这个字段。

    （4）总长度，指的是首部和数据之和的长度，单位为字节。总长度字段为16位，数据报的最大长度为2^16-1=65535字节。

14. 

## 第5章 运输层

1. 
2. 

## 第6章 应用层

1. 
2. 
